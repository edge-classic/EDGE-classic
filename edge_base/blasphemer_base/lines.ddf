//
//    EDGE LINES.DDF -redefine or add new line triggers.
//    For documentation, see https://edge-classic.github.io/
//

<LINES>
#VERSION 1.30

//This doesnt work right in Heretic (e4m1)
// Walk once - Raise to next highest floor
[22]
TYPE=WALK;
ACTIVATORS=PLAYER;
COUNT=1;
FLOOR.TYPE=MOVE;
FLOOR.SPEED_UP=0.5;
FLOOR.SPEED_DOWN=0.5;
FLOOR.DEST_REF=NEXTHIGHESTFLOOR;
FLOOR.TEXTURE="+";
FLOOR.SFX_UP=STNMOV;
FLOOR.SFX_STOP=PSTOP;




[1] // Open Door (closes)
TYPE=MANUAL;
ACTIVATORS=PLAYER, MONSTER;
CEILING.TYPE=MOVEWAITRETURN;
CEILING.SPEED_UP=2;
CEILING.SPEED_DOWN=2;
CEILING.DEST_REF=LOSURROUNDINGCEILING;
CEILING.DEST_OFFSET=-4;
CEILING.PAUSE_TIME=150T;
CEILING.SFX_UP=DORMOV;
CEILING.SFX_START=DOROPN;
CEILING.SFX_DOWN=DORMOV;
CEILING.SFX_STOP=DORCLS;


// BUILD STAIRS S1
[7]
TYPE=PUSH;
ACTIVATORS=PLAYER;
COUNT=1;
FLOOR.TYPE=BUILDSTAIRS;
FLOOR.SPEED_UP=0.95;
FLOOR.SPEED_DOWN=0;
FLOOR.DEST_REF=FLOOR;
FLOOR.DEST_OFFSET=8;
FLOOR.SFX_UP=STNMOV;


// Walk once - Build stairs
[8]
TYPE=WALK;
ACTIVATORS=PLAYER;
COUNT=1;
FLOOR.TYPE=BUILDSTAIRS;
FLOOR.SPEED_UP=0.95;
FLOOR.SPEED_DOWN=0;
FLOOR.DEST_REF=FLOOR;
FLOOR.DEST_OFFSET=8;
FLOOR.SFX_STOP=PSTOP;
FLOOR.SFX_UP=STNMOV;

// EXIT LEVEL S1
[11]
TYPE=PUSH;
ACTIVATORS=PLAYER,NOBOT;
ACTIVATE_SOUND="SWITCH";
COUNT=1;
EXIT=NORMAL;
SINGLESIDED=TRUE;


// RED DOOR SR, Red in Doom but green in Heretic
[28]
TYPE=MANUAL;
ACTIVATORS=PLAYER;
KEYS=GREEN_CARD, GREEN_SKULL;
CEILING.TYPE=MOVEWAITRETURN;
CEILING.SPEED_UP=2;
CEILING.SPEED_DOWN=2;
CEILING.DEST_REF=LOSURROUNDINGCEILING;
CEILING.DEST_OFFSET=-4;
CEILING.PAUSE_TIME=150T;
CEILING.SFX_UP=DORMOV;
CEILING.SFX_START=DOROPN;
CEILING.SFX_DOWN=DORMOV;
CEILING.SFX_STOP=DORCLS;
FAILED_MESSAGE=NeedGreenForDoor;

// RED DOOR OPEN S1, Red in Doom but green in Heretic
[33]
TYPE=MANUAL;
KEYS=GREEN_CARD, GREEN_SKULL;
ACTIVATORS=PLAYER;
COUNT=1;
CEILING.TYPE=MOVE;
CEILING.SPEED_UP=2;
CEILING.DEST_REF=LOSURROUNDINGCEILING;
CEILING.DEST_OFFSET=-4;
CEILING.SFX_UP=DORMOV;
CEILING.SFX_START=DOROPN;
FAILED_MESSAGE=NeedGreenForDoor;


// LOWER FLOOR TO LOWEST W1
//Heretic: Ceiling Lower to Floor SR
[43]
TYPE=PUSH;
ACTIVATORS=PLAYER;
//COUNT=1;
FLOOR.TYPE=MOVE;
FLOOR.SPEED_DOWN=1;
FLOOR.DEST_REF=HISURROUNDINGFLOOR;//LOSURROUNDINGFLOOR
FLOOR.SFX_DOWN=STNMOV;
FLOOR.SFX_STOP=PSTOP;

// CEILING CRUSH AND RAISE S1
//Heretic: Ceiling Lower to 8 above Floor S1";
[49]
TYPE=PUSH;
ACTIVATORS=PLAYER;
COUNT=1;
//CEILING.TYPE=CONTINUOUS;
//CEILING.SPEED_UP=1;
CEILING.SPEED_DOWN=1;
CEILING.DEST_REF=FLOOR;
CEILING.DEST_OFFSET=8;
//CEILING.SFX_UP=STNMOV;
CEILING.SFX_DOWN=STNMOV;
CEILING.CRUSH_DAMAGE=10;

// TURBO LOWER FLOOR SR
//Heretic: Floor Lower to 8 above Highest Floor SR
[70]
TYPE=PUSH;
ACTIVATORS=PLAYER;
FLOOR.TYPE=MOVE;
FLOOR.SPEED_DOWN=4;
FLOOR.DEST_REF=LOSURROUNDINGFLOOR;
FLOOR.DEST_OFFSET=-8;
FLOOR.SFX_DOWN=STNMOV;


//Heretic: Floor Lower to 8 above Highest Floor S1
[71]
TYPE=PUSH;
ACTIVATORS=PLAYER;
COUNT=1;
FLOOR.TYPE=MOVE;
FLOOR.SPEED_UP=1;
FLOOR.DEST_REF=LOSURROUNDINGFLOOR;/
FLOOR.DEST_OFFSET=-8;
FLOOR.SFX_UP=STNMOV;


// LOWER FLOOR TURBO WR
//Heretic: Floor Lower to 8 above Highest Floor WR
[98]
TYPE=WALK;
ACTIVATORS=PLAYER;
FLOOR.TYPE=MOVE;
FLOOR.SPEED_DOWN=4;
FLOOR.DEST_REF=LOSURROUNDINGFLOOR;
FLOOR.DEST_OFFSET=-8;
FLOOR.SFX_DOWN=STNMOV;


//Heretic: Scroll Texture Right"
[99]
SCROLL=RIGHT;
SCROLLING_SPEED=1;


// BLAZING DOOR RAISE WR
[100]
TYPE=WALK;
ACTIVATORS=PLAYER;
CEILING.TYPE=MOVEWAITRETURN;
CEILING.SPEED_UP=6;
CEILING.SPEED_DOWN=6;
CEILING.DEST_REF=LOSURROUNDINGCEILING;
CEILING.DEST_OFFSET=-4;
CEILING.SFX_UP=DORMOV;
CEILING.SFX_START=DOROPN;
CEILING.PAUSE_TIME=150T;
CEILING.SFX_DOWN=DORMOV;
CEILING.SFX_STOP=DORCLS;

// OPEN DOOR S1
[103]
TYPE=PUSH;
ACTIVATORS=PLAYER;
COUNT=1;
CEILING.TYPE=MOVE;
CEILING.SPEED_UP=2;
CEILING.DEST_REF=LOSURROUNDINGCEILING;
CEILING.DEST_OFFSET=-4;
CEILING.SFX_UP=DORMOV;
CEILING.SFX_START=DOROPN;
CEILING.SFX_STOP=DORCLS;


// SECRET EXIT W1
[105]
TYPE=WALK;
ACTIVATORS=PLAYER,NOBOT;
COUNT=1;
EXIT=SECRET;


// Build stairs, activated by proximity of player (E1M1)
[106]
TYPE=WALK;
ACTIVATORS=PLAYER;
COUNT=1;
FLOOR.TYPE=BUILDSTAIRS;
FLOOR.SPEED_UP=0.90;//not sure about the speed. It's an educated quess.
FLOOR.SPEED_DOWN=0;
FLOOR.DEST_REF=FLOOR;
FLOOR.DEST_OFFSET=16;
FLOOR.SFX_STOP=PSTOP;
FLOOR.SFX_UP=STNMOV;

// Build stairs, activated by switch (E3M8)
[107]
TYPE=PUSH;
ACTIVATORS=PLAYER;
COUNT=1;
FLOOR.TYPE=BUILDSTAIRS;
FLOOR.SPEED_UP=0.90;
FLOOR.SPEED_DOWN=0;
FLOOR.DEST_REF=FLOOR;
FLOOR.DEST_OFFSET=16;
FLOOR.SFX_STOP=PSTOP;
FLOOR.SFX_UP=STNMOV;



 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
